// Lab_03_1.cpp
// Татарський Василь
// Лабораторна робота № 3.1
// Розгалуження, задане формулою: функція однієї змінної.
// Варіант 22

#include <iostream>
#include <cmath>
#include <iomanip>
#include <Windows.h>

using namespace std;

int main()
{
    SetConsoleCP(1251);
    SetConsoleOutputCP(1251);

    double x;    // вхідний параметр
    double A;    // функціонально-стала частина (|x^3|)
    double B;    // функціонально-змінна частина
    double y1;   // результат способом 1 (скорочена форма)
    double y2;   // результат способом 2 (повна форма)

    cout << "x = ";
    if (!(cin >> x)) {
        cerr << "Невірне введення.\n";
        return 1;
    }

    // обчислення A
    A = fabs(pow(x, 3.0)); // |x^3|

    // ---------------------------
    // Спосіб 1: розгалуження в скороченій формі
    // (окремі if без else — кожен перевіряється, але умови взаємовиключні тут)
    B = 0.0;
    if (x < -1.0)
    {
        B = fabs(2.0 + x) + pow(sin(x), 2.0); // |2+x| + sin^2 x
    }
    if (x >= -1.0 && x <= 1.0)
    {
        B = atan(pow(x, 3.0) + 1.0) + 1.0;   // arctg(x^3+1) + 1
    }
    if (x > 1.0)
    {
        B = exp(cos(x)) + log10(1.0 / x + 1.0); // e^{cos x} + lg(1/x + 1)
    }
    y1 = A + B;

    // Вивід результату способом 1
    cout << fixed << setprecision(8);
    cout << "1) y = " << y1 << endl;

    // ---------------------------
    // Спосіб 2: розгалуження в повній формі (if ... else if ... else)
    if (x < -1.0)
    {
        B = fabs(2.0 + x) + pow(sin(x), 2.0);
    }
    else if (x <= 1.0)
    { 
        // тут гарантується x >= -1.0
        B = atan(pow(x, 3.0) + 1.0) + 1.0;
    }
    else
    { 
        // x > 1.0
        B = exp(cos(x)) + log10(1.0 / x + 1.0);
    }
    y2 = A + B;

    cout << "2) y = " << y2 << endl;

    // Перевірка — чи збігаються результати
    if (fabs(y1 - y2) < 1e-9) 
    {
        cout << "Результати збігаються (різниця < 1e-9)." << endl;
    }
    else 
    {
        cout << "Результати різняться: y1 - y2 = " << (y1 - y2) << endl;
    }

    return 0;
}
